<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Roth Conversion Calculator - LifeAfterAge50</title>
</head>
<body style="background:#f5f7f7;margin:0;padding:1rem;">
<div id="roth-box" style="font-family:sans-serif;max-width:600px;margin:auto;padding:1rem;border-radius:12px;background:#e5f3f1;border:1px solid #ccc;">
  <h2 style="color:#1c8c7d;margin-top:0;">Roth Conversion Calculator</h2>
  <p>Estimate taxes owed on a Roth IRA conversion.</p>
  <label>Traditional IRA balance:<br>
    <input type="text" id="ira-bal" placeholder="e.g., 500,000" style="width:100%;padding:0.5rem;margin:0.5rem 0;">
  </label>
  <label>Amount to convert:<br>
    <input type="text" id="convert" placeholder="e.g., 50,000" style="width:100%;padding:0.5rem;margin:0.5rem 0;">
  </label>
  <label>Your tax rate (%):<br>
    <input type="number" id="tax" placeholder="e.g., 22" style="width:100%;padding:0.5rem;margin:0.5rem 0;">
  </label>
  <button onclick="calcRoth()" style="background:#1c8c7d;color:#fff;padding:0.6rem 1.2rem;border:none;border-radius:6px;cursor:pointer;">Calculate</button>
  <div id="roth-result" style="margin-top:1rem;display:none;">
    <h3 style="color:#1c8c7d;">Results</h3>
    <p><strong>Tax owed:</strong> <span id="tax-out"></span></p>
    <p><strong>Remaining IRA balance:</strong> <span id="remain-out"></span></p>
    <p><strong>Converted amount:</strong> <span id="conv-out"></span></p>
    <p style="font-size:0.8rem;color:#777;margin-top:0.75rem;">Educational only. Not tax advice.</p>
  </div>
</div>
<script>
function fmt(n){return n.toLocaleString("en-US",{style:"currency",currency:"USD"});}
function clean(v){return parseFloat(v.replace(/,/g,""));}
function addCommas(e){e.value=e.value.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");}
document.getElementById("ira-bal").oninput=e=>addCommas(e.target);
document.getElementById("convert").oninput=e=>addCommas(e.target);
function calcRoth(){
  const ira=clean(document.getElementById("ira-bal").value);
  const conv=clean(document.getElementById("convert").value);
  const rate=parseFloat(document.getElementById("tax").value);
  if(isNaN(ira)||isNaN(conv)||isNaN(rate)||conv>ira){alert("Enter valid numbers.");return;}
  const tax=conv*(rate/100),remain=ira-conv;
  document.getElementById("tax-out").textContent=fmt(tax);
  document.getElementById("remain-out").textContent=fmt(remain);
  document.getElementById("conv-out").textContent=fmt(conv);
  document.getElementById("roth-result").style.display="block";
}
</script>
</body>
</html>
